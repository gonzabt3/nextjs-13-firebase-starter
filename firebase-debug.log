[debug] [2024-07-28T06:51:46.396Z] ----------------------------------------------------------------------
[debug] [2024-07-28T06:51:46.397Z] Command:       /opt/homebrew/Cellar/node/22.5.1/bin/node /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/node_modules/.bin/firebase emulators:start --only functions
[debug] [2024-07-28T06:51:46.397Z] CLI Version:   13.14.1
[debug] [2024-07-28T06:51:46.397Z] Platform:      darwin
[debug] [2024-07-28T06:51:46.398Z] Node Version:  v22.5.1
[debug] [2024-07-28T06:51:46.398Z] Time:          Sun Jul 28 2024 03:51:46 GMT-0300 (Argentina Standard Time)
[debug] [2024-07-28T06:51:46.398Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-28T06:51:46.447Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-28T06:51:46.447Z] > authorizing via signed-in user (gonzalo.muscolo@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2024-07-28T06:51:46.618Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-28T06:51:46.618Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-07-28T06:51:46.620Z] [hub] writing locator at /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/hub-gomenu-test1.json
[debug] [2024-07-28T06:51:46.731Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-28T06:51:46.732Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-28T06:51:46.732Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-07-28T06:51:46.733Z] defaultcredentials: writing to file /Users/gonzalomuscolo/.config/firebase/gonzalo_muscolo_gmail.com_application_default_credentials.json
[debug] [2024-07-28T06:51:46.737Z] Setting GAC to /Users/gonzalomuscolo/.config/firebase/gonzalo_muscolo_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/gonzalomuscolo/.config/firebase/gonzalo_muscolo_gmail.com_application_default_credentials.json"}}
[debug] [2024-07-28T06:51:46.737Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/gomenu-test1/adminSdkConfig [none]
[debug] [2024-07-28T06:51:47.280Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/gomenu-test1/adminSdkConfig 200
[debug] [2024-07-28T06:51:47.280Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/gomenu-test1/adminSdkConfig {"projectId":"gomenu-test1","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","storageBucket":"gomenu-test1.appspot.com","locationId":"southamerica-east1"}
[debug] [2024-07-28T06:51:47.297Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-07-28T06:51:47.297Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-07-28T06:51:47.297Z] Starting Emulator UI with command {"binary":"node","args":["/Users/gonzalomuscolo/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/gonzalomuscolo/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-07-28T06:51:47.411Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-07-28T06:51:47.411Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\" for Cloud Functions..."}}
[debug] [2024-07-28T06:51:47.512Z] Validating nodejs source
[debug] [2024-07-28T06:51:47.873Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T06:51:47.873Z] Building nodejs source
[debug] [2024-07-28T06:51:47.873Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T06:51:47.874Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T06:51:47.877Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8004

[debug] [2024-07-28T06:51:48.099Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[info] ✔  functions[us-central1-suscriptions]: http function initialized (http://127.0.0.1:5001/gomenu-test1/us-central1/suscriptions). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/gomenu-test1/us-central1/suscriptions)."}}
[info] ✔  functions[us-central1-pay]: http function initialized (http://127.0.0.1:5001/gomenu-test1/us-central1/pay). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/gomenu-test1/us-central1/pay)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-07-28T06:54:59.950Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:54:59.950Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:54:59.950Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:54:59.950Z"],"workRunningCount":1}
[debug] [2024-07-28T06:54:59.951Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T06:54:59.954Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T06:54:59.955Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T06:54:59.974Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T06:54:59.975Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[info] >  (node:85505) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85505) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85505) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T06:55:00.597Z] [runtime-status] [85505] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:00.597Z] [runtime-status] [85505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:00.597Z] [runtime-status] [85505] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T06:55:00.598Z] [runtime-status] [85505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:00.750Z] [runtime-status] [85505] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T06:55:00.750Z] [runtime-status] [85505] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T06:55:00.750Z] [runtime-status] [85505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:00.751Z] [runtime-status] [85505] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:00.752Z] [runtime-status] [85505] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:00.752Z] [runtime-status] [85505] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T06:55:00.760Z] [runtime-status] [85505] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T06:55:00.762Z] [runtime-status] [85505] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T06:55:00.763Z] [runtime-status] [85505] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_91364283cc78eeec.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85505] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_91364283cc78eeec.sock"}}
[debug] [2024-07-28T06:55:00.794Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE"}}
[debug] [2024-07-28T06:55:00.794Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T06:55:00.795Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[warn] ⚠  functions: The Cloud Firestore emulator is not running, so calls to Firestore will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"The Cloud Firestore emulator is not running, so calls to Firestore will affect production."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T06:55:01.447Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 652.43575ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 652.43575ms"}}
[debug] [2024-07-28T06:55:01.447Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE"}}
[debug] [2024-07-28T06:55:01.448Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T06:55:01.448Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T06:55:01.448Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:10.891Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.891Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:10.891Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.891Z"],"workRunningCount":1}
[debug] [2024-07-28T06:55:10.891Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T06:55:10.893Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T06:55:10.893Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T06:55:10.893Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T06:55:10.893Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY"}}
[debug] [2024-07-28T06:55:10.893Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.893Z"],"queueLength":1,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.891Z"],"workRunningCount":1}
[debug] [2024-07-28T06:55:10.893Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.891Z","/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.893Z"],"workRunningCount":2}
[debug] [2024-07-28T06:55:10.893Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T06:55:10.895Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T06:55:10.895Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T06:55:10.897Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T06:55:10.897Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=2"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[debug] [2024-07-28T06:55:11.109Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 216.352ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 216.352ms"}}
[debug] [2024-07-28T06:55:11.110Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE"}}
[debug] [2024-07-28T06:55:11.110Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T06:55:11.110Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T06:55:11.110Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T06:55:10.893Z"],"workRunningCount":1}
[info] >  (node:85530) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85530) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85530) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T06:55:11.434Z] [runtime-status] [85530] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:11.435Z] [runtime-status] [85530] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:11.435Z] [runtime-status] [85530] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T06:55:11.435Z] [runtime-status] [85530] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:11.568Z] [runtime-status] [85530] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T06:55:11.568Z] [runtime-status] [85530] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T06:55:11.568Z] [runtime-status] [85530] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:11.568Z] [runtime-status] [85530] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:11.569Z] [runtime-status] [85530] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:11.570Z] [runtime-status] [85530] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T06:55:11.578Z] [runtime-status] [85530] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T06:55:11.581Z] [runtime-status] [85530] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T06:55:11.581Z] [runtime-status] [85530] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_95e74d7acb4b71f4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85530] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_95e74d7acb4b71f4.sock"}}
[debug] [2024-07-28T06:55:11.611Z] [worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: IDLE"}}
[debug] [2024-07-28T06:55:11.612Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T06:55:11.612Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[debug] [2024-07-28T06:55:11.676Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 64.476459ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 64.476459ms"}}
[debug] [2024-07-28T06:55:11.677Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: IDLE"}}
[debug] [2024-07-28T06:55:11.677Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T06:55:11.677Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T06:55:11.677Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:46.487Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T06:55:46.487Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:46.488Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T06:55:46.487Z"],"workRunningCount":1}
[debug] [2024-07-28T06:55:46.488Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T06:55:46.495Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T06:55:46.496Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T06:55:46.502Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T06:55:46.502Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85550) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85550) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85550) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T06:55:47.038Z] [runtime-status] [85550] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:47.043Z] [runtime-status] [85550] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:47.043Z] [runtime-status] [85550] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T06:55:47.043Z] [runtime-status] [85550] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:47.171Z] [runtime-status] [85550] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T06:55:47.171Z] [runtime-status] [85550] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T06:55:47.171Z] [runtime-status] [85550] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:47.171Z] [runtime-status] [85550] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T06:55:47.172Z] [runtime-status] [85550] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T06:55:47.172Z] [runtime-status] [85550] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T06:55:47.180Z] [runtime-status] [85550] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T06:55:47.183Z] [runtime-status] [85550] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T06:55:47.183Z] [runtime-status] [85550] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_4571385d60e091e3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85550] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_4571385d60e091e3.sock"}}
[debug] [2024-07-28T06:55:47.215Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: IDLE"}}
[debug] [2024-07-28T06:55:47.215Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T06:55:47.216Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: BUSY"}}
[debug] [2024-07-28T06:55:47.217Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.388334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.388334ms"}}
[debug] [2024-07-28T06:55:47.217Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: IDLE"}}
[debug] [2024-07-28T06:55:47.217Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T06:55:47.217Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T06:55:47.217Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:47.223Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T06:55:47.223Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:47.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T06:55:47.223Z"],"workRunningCount":1}
[debug] [2024-07-28T06:55:47.223Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T06:55:47.223Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T06:55:47.223Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T06:55:47.223Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T06:55:47.223Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    token: '78df5745446413e099e9967ea4d765b3', {"user":"  token: '78df5745446413e099e9967ea4d765b3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: '78df5745446413e099e9967ea4d765b3',"}}
[info] >    issuer_id: '310', {"user":"  issuer_id: '310',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   issuer_id: '310',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    transaction_amount: 100, {"user":"  transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   transaction_amount: 100,"}}
[info] >    installments: 1, {"user":"  installments: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   installments: 1,"}}
[info] >    payer: { {"user":"  payer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer: {"}}
[info] >      email: 'test_user_977925870@testuser.com', {"user":"    email: 'test_user_977925870@testuser.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test_user_977925870@testuser.com',"}}
[info] >      identification: { type: 'DNI', number: '12345678' } {"user":"    identification: { type: 'DNI', number: '12345678' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     identification: { type: 'DNI', number: '12345678' }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  userId 631F3Fjv1eW1A3jjiay0ReQrMMz1 {"user":"userId 631F3Fjv1eW1A3jjiay0ReQrMMz1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m userId 631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: 'd3480cc58c844bfaba94ee346c107e0d', {"user":"  id: 'd3480cc58c844bfaba94ee346c107e0d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'd3480cc58c844bfaba94ee346c107e0d',"}}
[info] >    payer_id: 1910957596, {"user":"  payer_id: 1910957596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_id: 1910957596,"}}
[info] >    payer_email: '', {"user":"  payer_email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_email: '',"}}
[info] >    back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile', {"user":"  back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',"}}
[info] >    collector_id: 1910961146, {"user":"  collector_id: 1910961146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   collector_id: 1910961146,"}}
[info] >    application_id: 4866563516710223, {"user":"  application_id: 4866563516710223,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_id: 4866563516710223,"}}
[info] >    status: 'authorized', {"user":"  status: 'authorized',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'authorized',"}}
[info] >    reason: 'Premium', {"user":"  reason: 'Premium',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   reason: 'Premium',"}}
[info] >    external_reference: 'YG-1234', {"user":"  external_reference: 'YG-1234',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   external_reference: 'YG-1234',"}}
[info] >    date_created: '2024-07-28T02:55:48.870-04:00', {"user":"  date_created: '2024-07-28T02:55:48.870-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   date_created: '2024-07-28T02:55:48.870-04:00',"}}
[info] >    last_modified: '2024-07-28T02:55:49.177-04:00', {"user":"  last_modified: '2024-07-28T02:55:49.177-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_modified: '2024-07-28T02:55:49.177-04:00',"}}
[info] >    init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=d3480cc58c844bfaba94ee346c107e0d', {"user":"  init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=d3480cc58c844bfaba94ee346c107e0d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=d3480cc58c844bfaba94ee346c107e0d',"}}
[info] >    preapproval_plan_id: '2c93808490edce740190f279e3290150', {"user":"  preapproval_plan_id: '2c93808490edce740190f279e3290150',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   preapproval_plan_id: '2c93808490edce740190f279e3290150',"}}
[info] >    auto_recurring: { {"user":"  auto_recurring: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   auto_recurring: {"}}
[info] >      frequency: 1, {"user":"    frequency: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency: 1,"}}
[info] >      frequency_type: 'months', {"user":"    frequency_type: 'months',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency_type: 'months',"}}
[info] >      transaction_amount: 100, {"user":"    transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     transaction_amount: 100,"}}
[info] >      currency_id: 'ARS', {"user":"    currency_id: 'ARS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency_id: 'ARS',"}}
[info] >      start_date: '2024-07-28T02:55:48.891-04:00', {"user":"    start_date: '2024-07-28T02:55:48.891-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     start_date: '2024-07-28T02:55:48.891-04:00',"}}
[info] >      billing_day: 3, {"user":"    billing_day: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day: 3,"}}
[info] >      billing_day_proportional: false, {"user":"    billing_day_proportional: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day_proportional: false,"}}
[info] >      has_billing_day: true, {"user":"    has_billing_day: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     has_billing_day: true,"}}
[info] >      free_trial: null {"user":"    free_trial: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     free_trial: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    summarized: { {"user":"  summarized: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   summarized: {"}}
[info] >      quotas: null, {"user":"    quotas: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     quotas: null,"}}
[info] >      charged_quantity: null, {"user":"    charged_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_quantity: null,"}}
[info] >      pending_charge_quantity: null, {"user":"    pending_charge_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_quantity: null,"}}
[info] >      charged_amount: null, {"user":"    charged_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_amount: null,"}}
[info] >      pending_charge_amount: null, {"user":"    pending_charge_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_amount: null,"}}
[info] >      semaphore: null, {"user":"    semaphore: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     semaphore: null,"}}
[info] >      last_charged_date: null, {"user":"    last_charged_date: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_date: null,"}}
[info] >      last_charged_amount: null {"user":"    last_charged_amount: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_amount: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    next_payment_date: '2024-07-28T02:55:49.000-04:00', {"user":"  next_payment_date: '2024-07-28T02:55:49.000-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_payment_date: '2024-07-28T02:55:49.000-04:00',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    card_id: '9463826997', {"user":"  card_id: '9463826997',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   card_id: '9463826997',"}}
[info] >    payment_method_id_secondary: null, {"user":"  payment_method_id_secondary: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id_secondary: null,"}}
[info] >    first_invoice_offset: null, {"user":"  first_invoice_offset: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   first_invoice_offset: null,"}}
[info] >    subscription_id: 'd3480cc58c844bfaba94ee346c107e0d' {"user":"  subscription_id: 'd3480cc58c844bfaba94ee346c107e0d'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription_id: 'd3480cc58c844bfaba94ee346c107e0d'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75"}}
[info] >          restaurants.forEach((restaurant) => { {"user":"        restaurants.forEach((restaurant) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m         restaurants.forEach((restaurant) => {"}}
[info] >                      ^ {"user":"                    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:21 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:21"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:5) {"user":"    at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T06:55:50.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T06:55:50.126Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: exited"}}
[debug] [2024-07-28T06:55:50.126Z] [worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-580e9c43-eb67-4548-945f-c20fe6727999]: FINISHED"}}
[debug] [2024-07-28T06:58:33.542Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T06:58:33.711Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T06:58:33.711Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T06:58:34.713Z] Validating nodejs source
[debug] [2024-07-28T06:58:35.148Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T06:58:35.148Z] Building nodejs source
[debug] [2024-07-28T06:58:35.148Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T06:58:35.150Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T06:58:35.151Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8666

[debug] [2024-07-28T06:58:35.432Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T06:58:40.448Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T06:58:40.448Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: FINISHING"}}
[debug] [2024-07-28T06:58:40.448Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T06:58:40.448Z] [worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: FINISHING"}}
[debug] [2024-07-28T06:58:40.460Z] [worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: exited"}}
[debug] [2024-07-28T06:58:40.460Z] [worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-4c3a68a3-3d72-49f5-94af-60e25403dd09]: FINISHED"}}
[debug] [2024-07-28T06:58:40.464Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: exited"}}
[debug] [2024-07-28T06:58:40.464Z] [worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-a35dc5d3-7347-4be8-a8d2-dfcfc0d83483]: FINISHED"}}
[debug] [2024-07-28T07:03:02.814Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:03:02.814Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:02.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:03:02.814Z"],"workRunningCount":1}
[debug] [2024-07-28T07:03:02.815Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:03:02.818Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:03:02.818Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:03:02.818Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0"}}
[debug] [2024-07-28T07:03:02.818Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:03:02.822Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:03:02.822Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[info] >  (node:85674) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85674) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85674) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:03:03.425Z] [runtime-status] [85674] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:03:03.425Z] [runtime-status] [85674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:03.425Z] [runtime-status] [85674] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:03:03.425Z] [runtime-status] [85674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:03.599Z] [runtime-status] [85674] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:03:03.599Z] [runtime-status] [85674] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:03:03.599Z] [runtime-status] [85674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:03.599Z] [runtime-status] [85674] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:03:03.600Z] [runtime-status] [85674] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:03.601Z] [runtime-status] [85674] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:03:03.608Z] [runtime-status] [85674] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:03:03.611Z] [runtime-status] [85674] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:03:03.611Z] [runtime-status] [85674] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_865c13089bd48abf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85674] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_865c13089bd48abf.sock"}}
[debug] [2024-07-28T07:03:03.644Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: IDLE"}}
[debug] [2024-07-28T07:03:03.644Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:03:03.645Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:03:04.339Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 694.707958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 694.707958ms"}}
[debug] [2024-07-28T07:03:04.340Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: IDLE"}}
[debug] [2024-07-28T07:03:04.340Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:03:04.340Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:03:04.340Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:37.840Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:03:37.840Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:37.842Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:03:37.840Z"],"workRunningCount":1}
[debug] [2024-07-28T07:03:37.842Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:03:37.848Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:03:37.849Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:03:37.857Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:03:37.857Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85686) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85686) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85686) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:03:38.440Z] [runtime-status] [85686] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:03:38.440Z] [runtime-status] [85686] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:38.440Z] [runtime-status] [85686] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:03:38.440Z] [runtime-status] [85686] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:38.576Z] [runtime-status] [85686] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:03:38.576Z] [runtime-status] [85686] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:03:38.576Z] [runtime-status] [85686] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:38.576Z] [runtime-status] [85686] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:03:38.577Z] [runtime-status] [85686] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:03:38.577Z] [runtime-status] [85686] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:03:38.585Z] [runtime-status] [85686] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:03:38.588Z] [runtime-status] [85686] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:03:38.588Z] [runtime-status] [85686] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_59d4c624b5a4b717.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85686] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_59d4c624b5a4b717.sock"}}
[debug] [2024-07-28T07:03:38.674Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: IDLE"}}
[debug] [2024-07-28T07:03:38.674Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:03:38.674Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: BUSY"}}
[debug] [2024-07-28T07:03:38.676Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 2.094375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 2.094375ms"}}
[debug] [2024-07-28T07:03:38.676Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: IDLE"}}
[debug] [2024-07-28T07:03:38.676Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:03:38.676Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:03:38.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:38.678Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:03:38.678Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:38.678Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:03:38.678Z"],"workRunningCount":1}
[debug] [2024-07-28T07:03:38.678Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:03:38.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:03:38.679Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:03:38.679Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:03:38.679Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    token: 'e45e58fa2b8b0f5140f6e0239ca70486', {"user":"  token: 'e45e58fa2b8b0f5140f6e0239ca70486',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: 'e45e58fa2b8b0f5140f6e0239ca70486',"}}
[info] >    issuer_id: '310', {"user":"  issuer_id: '310',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   issuer_id: '310',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    transaction_amount: 100, {"user":"  transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   transaction_amount: 100,"}}
[info] >    installments: 2, {"user":"  installments: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   installments: 2,"}}
[info] >    payer: { {"user":"  payer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer: {"}}
[info] >      email: 'test_user_977925870@testuser.com', {"user":"    email: 'test_user_977925870@testuser.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test_user_977925870@testuser.com',"}}
[info] >      identification: { type: 'DNI', number: '12345678' } {"user":"    identification: { type: 'DNI', number: '12345678' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     identification: { type: 'DNI', number: '12345678' }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  userId 631F3Fjv1eW1A3jjiay0ReQrMMz1 {"user":"userId 631F3Fjv1eW1A3jjiay0ReQrMMz1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m userId 631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: '41d9e3354955407f8f8302e487aa5cde', {"user":"  id: '41d9e3354955407f8f8302e487aa5cde',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '41d9e3354955407f8f8302e487aa5cde',"}}
[info] >    payer_id: 1910957596, {"user":"  payer_id: 1910957596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_id: 1910957596,"}}
[info] >    payer_email: '', {"user":"  payer_email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_email: '',"}}
[info] >    back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile', {"user":"  back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',"}}
[info] >    collector_id: 1910961146, {"user":"  collector_id: 1910961146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   collector_id: 1910961146,"}}
[info] >    application_id: 4866563516710223, {"user":"  application_id: 4866563516710223,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_id: 4866563516710223,"}}
[info] >    status: 'authorized', {"user":"  status: 'authorized',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'authorized',"}}
[info] >    reason: 'Premium', {"user":"  reason: 'Premium',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   reason: 'Premium',"}}
[info] >    external_reference: 'YG-1234', {"user":"  external_reference: 'YG-1234',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   external_reference: 'YG-1234',"}}
[info] >    date_created: '2024-07-28T03:03:40.322-04:00', {"user":"  date_created: '2024-07-28T03:03:40.322-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   date_created: '2024-07-28T03:03:40.322-04:00',"}}
[info] >    last_modified: '2024-07-28T03:03:40.636-04:00', {"user":"  last_modified: '2024-07-28T03:03:40.636-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_modified: '2024-07-28T03:03:40.636-04:00',"}}
[info] >    init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=41d9e3354955407f8f8302e487aa5cde', {"user":"  init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=41d9e3354955407f8f8302e487aa5cde',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=41d9e3354955407f8f8302e487aa5cde',"}}
[info] >    preapproval_plan_id: '2c93808490edce740190f279e3290150', {"user":"  preapproval_plan_id: '2c93808490edce740190f279e3290150',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   preapproval_plan_id: '2c93808490edce740190f279e3290150',"}}
[info] >    auto_recurring: { {"user":"  auto_recurring: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   auto_recurring: {"}}
[info] >      frequency: 1, {"user":"    frequency: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency: 1,"}}
[info] >      frequency_type: 'months', {"user":"    frequency_type: 'months',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency_type: 'months',"}}
[info] >      transaction_amount: 100, {"user":"    transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     transaction_amount: 100,"}}
[info] >      currency_id: 'ARS', {"user":"    currency_id: 'ARS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency_id: 'ARS',"}}
[info] >      start_date: '2024-07-28T03:03:40.353-04:00', {"user":"    start_date: '2024-07-28T03:03:40.353-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     start_date: '2024-07-28T03:03:40.353-04:00',"}}
[info] >      billing_day: 3, {"user":"    billing_day: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day: 3,"}}
[info] >      billing_day_proportional: false, {"user":"    billing_day_proportional: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day_proportional: false,"}}
[info] >      has_billing_day: true, {"user":"    has_billing_day: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     has_billing_day: true,"}}
[info] >      free_trial: null {"user":"    free_trial: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     free_trial: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    summarized: { {"user":"  summarized: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   summarized: {"}}
[info] >      quotas: null, {"user":"    quotas: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     quotas: null,"}}
[info] >      charged_quantity: null, {"user":"    charged_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_quantity: null,"}}
[info] >      pending_charge_quantity: null, {"user":"    pending_charge_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_quantity: null,"}}
[info] >      charged_amount: null, {"user":"    charged_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_amount: null,"}}
[info] >      pending_charge_amount: null, {"user":"    pending_charge_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_amount: null,"}}
[info] >      semaphore: null, {"user":"    semaphore: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     semaphore: null,"}}
[info] >      last_charged_date: null, {"user":"    last_charged_date: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_date: null,"}}
[info] >      last_charged_amount: null {"user":"    last_charged_amount: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_amount: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    next_payment_date: '2024-07-28T03:03:40.000-04:00', {"user":"  next_payment_date: '2024-07-28T03:03:40.000-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_payment_date: '2024-07-28T03:03:40.000-04:00',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    card_id: '9463826997', {"user":"  card_id: '9463826997',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   card_id: '9463826997',"}}
[info] >    payment_method_id_secondary: null, {"user":"  payment_method_id_secondary: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id_secondary: null,"}}
[info] >    first_invoice_offset: null, {"user":"  first_invoice_offset: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   first_invoice_offset: null,"}}
[info] >    subscription_id: '41d9e3354955407f8f8302e487aa5cde' {"user":"  subscription_id: '41d9e3354955407f8f8302e487aa5cde'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription_id: '41d9e3354955407f8f8302e487aa5cde'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74"}}
[info] >          restaurants.forEach((restaurant) => { {"user":"        restaurants.forEach((restaurant) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m         restaurants.forEach((restaurant) => {"}}
[info] >                      ^ {"user":"                    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5) {"user":"    at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:03:41.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:03:41.652Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: exited"}}
[debug] [2024-07-28T07:03:41.652Z] [worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cd647711-5475-4107-b0c2-daaa745c47d8]: FINISHED"}}
[debug] [2024-07-28T07:05:12.637Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:05:12.976Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:05:12.977Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:05:13.978Z] Validating nodejs source
[debug] [2024-07-28T07:05:14.360Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:05:14.360Z] Building nodejs source
[debug] [2024-07-28T07:05:14.360Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:05:14.361Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:05:14.362Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8932

[debug] [2024-07-28T07:05:14.596Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:05:19.619Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:05:19.619Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: FINISHING"}}
[debug] [2024-07-28T07:05:19.638Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: exited"}}
[debug] [2024-07-28T07:05:19.638Z] [worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-656fa3df-2af7-4c7e-91a8-ea7042dd932f]: FINISHED"}}
[debug] [2024-07-28T07:05:31.549Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:05:31.549Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:05:31.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:05:31.549Z"],"workRunningCount":1}
[debug] [2024-07-28T07:05:31.549Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:05:31.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:05:31.551Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:05:31.552Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0"}}
[debug] [2024-07-28T07:05:31.552Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:05:31.554Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:05:31.554Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[info] >  (node:85742) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85742) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85742) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:05:32.156Z] [runtime-status] [85742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:05:32.156Z] [runtime-status] [85742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:05:32.156Z] [runtime-status] [85742] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:05:32.157Z] [runtime-status] [85742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:05:32.303Z] [runtime-status] [85742] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:05:32.303Z] [runtime-status] [85742] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:05:32.303Z] [runtime-status] [85742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:05:32.303Z] [runtime-status] [85742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:05:32.304Z] [runtime-status] [85742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:05:32.304Z] [runtime-status] [85742] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:05:32.312Z] [runtime-status] [85742] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:05:32.315Z] [runtime-status] [85742] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:05:32.315Z] [runtime-status] [85742] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_34ee6ed90ccc461c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85742] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_34ee6ed90ccc461c.sock"}}
[debug] [2024-07-28T07:05:32.366Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: IDLE"}}
[debug] [2024-07-28T07:05:32.366Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:05:32.367Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:05:33.005Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 638.93725ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 638.93725ms"}}
[debug] [2024-07-28T07:05:33.006Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: IDLE"}}
[debug] [2024-07-28T07:05:33.006Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:05:33.006Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:05:33.006Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:06:06.490Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:06:06.490Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:06:06.491Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:06:06.490Z"],"workRunningCount":1}
[debug] [2024-07-28T07:06:06.491Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:06:06.494Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:06:06.494Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:06:06.499Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:06:06.499Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85756) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85756) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85756) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:06:07.090Z] [runtime-status] [85756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:06:07.091Z] [runtime-status] [85756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:06:07.091Z] [runtime-status] [85756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:06:07.091Z] [runtime-status] [85756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:06:07.269Z] [runtime-status] [85756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:06:07.269Z] [runtime-status] [85756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:06:07.269Z] [runtime-status] [85756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:06:07.269Z] [runtime-status] [85756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:06:07.270Z] [runtime-status] [85756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:06:07.270Z] [runtime-status] [85756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:06:07.279Z] [runtime-status] [85756] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:06:07.281Z] [runtime-status] [85756] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:06:07.282Z] [runtime-status] [85756] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_bb62e67a113cb2c3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85756] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_bb62e67a113cb2c3.sock"}}
[debug] [2024-07-28T07:06:07.310Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: IDLE"}}
[debug] [2024-07-28T07:06:07.310Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:06:07.310Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: BUSY"}}
[debug] [2024-07-28T07:06:07.312Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.453625ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.453625ms"}}
[debug] [2024-07-28T07:06:07.313Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: IDLE"}}
[debug] [2024-07-28T07:06:07.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:06:07.313Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:06:07.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:06:07.316Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:06:07.316Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:06:07.317Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:06:07.316Z"],"workRunningCount":1}
[debug] [2024-07-28T07:06:07.317Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:06:07.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:06:07.317Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:06:07.317Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:06:07.317Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    token: 'd9e0fcc7e210b6c1270359ba8cdf1f5b', {"user":"  token: 'd9e0fcc7e210b6c1270359ba8cdf1f5b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: 'd9e0fcc7e210b6c1270359ba8cdf1f5b',"}}
[info] >    issuer_id: '310', {"user":"  issuer_id: '310',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   issuer_id: '310',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    transaction_amount: 100, {"user":"  transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   transaction_amount: 100,"}}
[info] >    installments: 1, {"user":"  installments: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   installments: 1,"}}
[info] >    payer: { {"user":"  payer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer: {"}}
[info] >      email: 'test_user_977925870@testuser.com', {"user":"    email: 'test_user_977925870@testuser.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test_user_977925870@testuser.com',"}}
[info] >      identification: { type: 'DNI', number: '12345678' } {"user":"    identification: { type: 'DNI', number: '12345678' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     identification: { type: 'DNI', number: '12345678' }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  userId 631F3Fjv1eW1A3jjiay0ReQrMMz1 {"user":"userId 631F3Fjv1eW1A3jjiay0ReQrMMz1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m userId 631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: '29b2cb530af3424b83b06a063282f8b6', {"user":"  id: '29b2cb530af3424b83b06a063282f8b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '29b2cb530af3424b83b06a063282f8b6',"}}
[info] >    payer_id: 1910957596, {"user":"  payer_id: 1910957596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_id: 1910957596,"}}
[info] >    payer_email: '', {"user":"  payer_email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_email: '',"}}
[info] >    back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile', {"user":"  back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',"}}
[info] >    collector_id: 1910961146, {"user":"  collector_id: 1910961146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   collector_id: 1910961146,"}}
[info] >    application_id: 4866563516710223, {"user":"  application_id: 4866563516710223,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_id: 4866563516710223,"}}
[info] >    status: 'authorized', {"user":"  status: 'authorized',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'authorized',"}}
[info] >    reason: 'Premium', {"user":"  reason: 'Premium',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   reason: 'Premium',"}}
[info] >    external_reference: 'YG-1234', {"user":"  external_reference: 'YG-1234',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   external_reference: 'YG-1234',"}}
[info] >    date_created: '2024-07-28T03:06:08.923-04:00', {"user":"  date_created: '2024-07-28T03:06:08.923-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   date_created: '2024-07-28T03:06:08.923-04:00',"}}
[info] >    last_modified: '2024-07-28T03:06:09.218-04:00', {"user":"  last_modified: '2024-07-28T03:06:09.218-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_modified: '2024-07-28T03:06:09.218-04:00',"}}
[info] >    init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=29b2cb530af3424b83b06a063282f8b6', {"user":"  init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=29b2cb530af3424b83b06a063282f8b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=29b2cb530af3424b83b06a063282f8b6',"}}
[info] >    preapproval_plan_id: '2c93808490edce740190f279e3290150', {"user":"  preapproval_plan_id: '2c93808490edce740190f279e3290150',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   preapproval_plan_id: '2c93808490edce740190f279e3290150',"}}
[info] >    auto_recurring: { {"user":"  auto_recurring: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   auto_recurring: {"}}
[info] >      frequency: 1, {"user":"    frequency: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency: 1,"}}
[info] >      frequency_type: 'months', {"user":"    frequency_type: 'months',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency_type: 'months',"}}
[info] >      transaction_amount: 100, {"user":"    transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     transaction_amount: 100,"}}
[info] >      currency_id: 'ARS', {"user":"    currency_id: 'ARS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency_id: 'ARS',"}}
[info] >      start_date: '2024-07-28T03:06:08.948-04:00', {"user":"    start_date: '2024-07-28T03:06:08.948-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     start_date: '2024-07-28T03:06:08.948-04:00',"}}
[info] >      billing_day: 3, {"user":"    billing_day: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day: 3,"}}
[info] >      billing_day_proportional: false, {"user":"    billing_day_proportional: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day_proportional: false,"}}
[info] >      has_billing_day: true, {"user":"    has_billing_day: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     has_billing_day: true,"}}
[info] >      free_trial: null {"user":"    free_trial: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     free_trial: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    summarized: { {"user":"  summarized: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   summarized: {"}}
[info] >      quotas: null, {"user":"    quotas: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     quotas: null,"}}
[info] >      charged_quantity: null, {"user":"    charged_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_quantity: null,"}}
[info] >      pending_charge_quantity: null, {"user":"    pending_charge_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_quantity: null,"}}
[info] >      charged_amount: null, {"user":"    charged_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_amount: null,"}}
[info] >      pending_charge_amount: null, {"user":"    pending_charge_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_amount: null,"}}
[info] >      semaphore: null, {"user":"    semaphore: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     semaphore: null,"}}
[info] >      last_charged_date: null, {"user":"    last_charged_date: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_date: null,"}}
[info] >      last_charged_amount: null {"user":"    last_charged_amount: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_amount: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    next_payment_date: '2024-07-28T03:06:09.000-04:00', {"user":"  next_payment_date: '2024-07-28T03:06:09.000-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_payment_date: '2024-07-28T03:06:09.000-04:00',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    card_id: '9463826997', {"user":"  card_id: '9463826997',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   card_id: '9463826997',"}}
[info] >    payment_method_id_secondary: null, {"user":"  payment_method_id_secondary: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id_secondary: null,"}}
[info] >    first_invoice_offset: null, {"user":"  first_invoice_offset: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   first_invoice_offset: null,"}}
[info] >    subscription_id: '29b2cb530af3424b83b06a063282f8b6' {"user":"  subscription_id: '29b2cb530af3424b83b06a063282f8b6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription_id: '29b2cb530af3424b83b06a063282f8b6'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Document added with ID: aUx9KV8hp3xOI086OG8f {"user":"Document added with ID: aUx9KV8hp3xOI086OG8f","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Document added with ID: aUx9KV8hp3xOI086OG8f"}}
[info] >  savePayment {"user":"savePayment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m savePayment"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    address: '', {"user":"  address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   address: '',"}}
[info] >    phone: '', {"user":"  phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: '',"}}
[info] >    name: 'san juan', {"user":"  name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'san juan',"}}
[info] >    description: '', {"user":"  description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: '',"}}
[info] >    id: null, {"user":"  id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: null,"}}
[info] >    instagram: '', {"user":"  instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   instagram: '',"}}
[info] >    ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    delete: false {"user":"  delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   delete: false"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  restaurants { {"user":"restaurants {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m restaurants {"}}
[info] >    address: '', {"user":"  address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   address: '',"}}
[info] >    phone: '', {"user":"  phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: '',"}}
[info] >    name: 'san juan', {"user":"  name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'san juan',"}}
[info] >    description: '', {"user":"  description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: '',"}}
[info] >    id: null, {"user":"  id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: null,"}}
[info] >    instagram: '', {"user":"  instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   instagram: '',"}}
[info] >    ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    delete: false {"user":"  delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   delete: false"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74"}}
[info] >          restaurants.forEach((restaurant) => { {"user":"        restaurants.forEach((restaurant) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m         restaurants.forEach((restaurant) => {"}}
[info] >                      ^ {"user":"                    ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                     ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: restaurants.forEach is not a function {"user":"TypeError: restaurants.forEach is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: restaurants.forEach is not a function"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:74:21"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5) {"user":"    at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async updateSubscriptionPayedOnMenus (/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:73:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:06:10.713Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:06:10.713Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: exited"}}
[debug] [2024-07-28T07:06:10.713Z] [worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-02323f4b-f9da-46a4-aefe-89c7ef8ff6fa]: FINISHED"}}
[debug] [2024-07-28T07:10:42.077Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:10:42.078Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:10:42.078Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:10:43.080Z] Validating nodejs source
[debug] [2024-07-28T07:10:44.124Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:10:44.124Z] Building nodejs source
[debug] [2024-07-28T07:10:44.124Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:10:44.125Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:10:44.126Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8718

[debug] [2024-07-28T07:10:44.374Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:10:49.382Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:10:49.382Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: FINISHING"}}
[debug] [2024-07-28T07:10:49.387Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: exited"}}
[debug] [2024-07-28T07:10:49.387Z] [worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-f6d13eea-b3e8-445d-8cd2-105f769554dc]: FINISHED"}}
[debug] [2024-07-28T07:10:50.058Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.058Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:10:50.059Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.058Z"],"workRunningCount":1}
[debug] [2024-07-28T07:10:50.059Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:10:50.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:10:50.061Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:10:50.061Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0"}}
[debug] [2024-07-28T07:10:50.061Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:10:50.062Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:10:50.062Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[debug] [2024-07-28T07:10:50.063Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.063Z"],"queueLength":1,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.058Z"],"workRunningCount":1}
[debug] [2024-07-28T07:10:50.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.058Z","/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.063Z"],"workRunningCount":2}
[debug] [2024-07-28T07:10:50.063Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:10:50.064Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:10:50.064Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:10:50.065Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:10:50.065Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=2"}}
[info] >  (node:85824) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85824) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85824) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[info] >  (node:85825) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85825) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85825) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:10:50.678Z] [runtime-status] [85824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:10:50.678Z] [runtime-status] [85825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85825] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85824] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.679Z] [runtime-status] [85824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85825] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85824] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85824] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85825] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85825] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:10:50.820Z] [runtime-status] [85824] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:10:50.821Z] [runtime-status] [85824] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.821Z] [runtime-status] [85825] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:10:50.821Z] [runtime-status] [85825] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:10:50.822Z] [runtime-status] [85824] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:10:50.829Z] [runtime-status] [85825] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:10:50.829Z] [runtime-status] [85824] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:10:50.831Z] [runtime-status] [85825] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:10:50.832Z] [runtime-status] [85824] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:10:50.832Z] [runtime-status] [85825] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_880e02cac8b66b73.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85825] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_880e02cac8b66b73.sock"}}
[debug] [2024-07-28T07:10:50.832Z] [runtime-status] [85824] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_3b7a4930fff06c3b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85824] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_3b7a4930fff06c3b.sock"}}
[debug] [2024-07-28T07:10:50.875Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE"}}
[debug] [2024-07-28T07:10:50.875Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:10:50.875Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: BUSY"}}
[debug] [2024-07-28T07:10:50.875Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: IDLE"}}
[debug] [2024-07-28T07:10:50.875Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:10:50.875Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:10:51.527Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 652.192417ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 652.192417ms"}}
[debug] [2024-07-28T07:10:51.528Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: IDLE"}}
[debug] [2024-07-28T07:10:51.528Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:10:51.528Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:10:51.528Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:10:50.058Z"],"workRunningCount":1}
[debug] [2024-07-28T07:10:51.537Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 662.455292ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 662.455292ms"}}
[debug] [2024-07-28T07:10:51.538Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE"}}
[debug] [2024-07-28T07:10:51.538Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:10:51.538Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:10:51.538Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:11:20.585Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:11:20.585Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:11:20.585Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:11:20.585Z"],"workRunningCount":1}
[debug] [2024-07-28T07:11:20.585Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:11:20.589Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:11:20.589Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:11:20.596Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:11:20.597Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85834) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85834) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85834) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:11:21.129Z] [runtime-status] [85834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:11:21.130Z] [runtime-status] [85834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:11:21.130Z] [runtime-status] [85834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:11:21.130Z] [runtime-status] [85834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:11:21.275Z] [runtime-status] [85834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:11:21.275Z] [runtime-status] [85834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:11:21.275Z] [runtime-status] [85834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:11:21.275Z] [runtime-status] [85834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:11:21.276Z] [runtime-status] [85834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:11:21.276Z] [runtime-status] [85834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:11:21.284Z] [runtime-status] [85834] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:11:21.287Z] [runtime-status] [85834] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:11:21.287Z] [runtime-status] [85834] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_ca0d6fd3dd330f85.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85834] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_ca0d6fd3dd330f85.sock"}}
[debug] [2024-07-28T07:11:21.310Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: IDLE"}}
[debug] [2024-07-28T07:11:21.310Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:11:21.310Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: BUSY"}}
[debug] [2024-07-28T07:11:21.311Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.477041ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.477041ms"}}
[debug] [2024-07-28T07:11:21.311Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: IDLE"}}
[debug] [2024-07-28T07:11:21.312Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:11:21.312Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:11:21.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:11:21.317Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:11:21.317Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:11:21.317Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:11:21.317Z"],"workRunningCount":1}
[debug] [2024-07-28T07:11:21.317Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:11:21.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:11:21.317Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:11:21.317Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:11:21.317Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    token: '380a24c5ce901a5705e61108854a3c06', {"user":"  token: '380a24c5ce901a5705e61108854a3c06',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: '380a24c5ce901a5705e61108854a3c06',"}}
[info] >    issuer_id: '310', {"user":"  issuer_id: '310',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   issuer_id: '310',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    transaction_amount: 100, {"user":"  transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   transaction_amount: 100,"}}
[info] >    installments: 1, {"user":"  installments: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   installments: 1,"}}
[info] >    payer: { {"user":"  payer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer: {"}}
[info] >      email: 'test_user_977925870@testuser.com', {"user":"    email: 'test_user_977925870@testuser.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test_user_977925870@testuser.com',"}}
[info] >      identification: { type: 'DNI', number: '12345678' } {"user":"    identification: { type: 'DNI', number: '12345678' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     identification: { type: 'DNI', number: '12345678' }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  userId 631F3Fjv1eW1A3jjiay0ReQrMMz1 {"user":"userId 631F3Fjv1eW1A3jjiay0ReQrMMz1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m userId 631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: '2ff513bc1da443a093ceb0d042bd2ee2', {"user":"  id: '2ff513bc1da443a093ceb0d042bd2ee2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '2ff513bc1da443a093ceb0d042bd2ee2',"}}
[info] >    payer_id: 1910957596, {"user":"  payer_id: 1910957596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_id: 1910957596,"}}
[info] >    payer_email: '', {"user":"  payer_email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_email: '',"}}
[info] >    back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile', {"user":"  back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',"}}
[info] >    collector_id: 1910961146, {"user":"  collector_id: 1910961146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   collector_id: 1910961146,"}}
[info] >    application_id: 4866563516710223, {"user":"  application_id: 4866563516710223,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_id: 4866563516710223,"}}
[info] >    status: 'authorized', {"user":"  status: 'authorized',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'authorized',"}}
[info] >    reason: 'Premium', {"user":"  reason: 'Premium',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   reason: 'Premium',"}}
[info] >    external_reference: 'YG-1234', {"user":"  external_reference: 'YG-1234',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   external_reference: 'YG-1234',"}}
[info] >    date_created: '2024-07-28T03:11:22.965-04:00', {"user":"  date_created: '2024-07-28T03:11:22.965-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   date_created: '2024-07-28T03:11:22.965-04:00',"}}
[info] >    last_modified: '2024-07-28T03:11:23.285-04:00', {"user":"  last_modified: '2024-07-28T03:11:23.285-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_modified: '2024-07-28T03:11:23.285-04:00',"}}
[info] >    init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=2ff513bc1da443a093ceb0d042bd2ee2', {"user":"  init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=2ff513bc1da443a093ceb0d042bd2ee2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=2ff513bc1da443a093ceb0d042bd2ee2',"}}
[info] >    preapproval_plan_id: '2c93808490edce740190f279e3290150', {"user":"  preapproval_plan_id: '2c93808490edce740190f279e3290150',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   preapproval_plan_id: '2c93808490edce740190f279e3290150',"}}
[info] >    auto_recurring: { {"user":"  auto_recurring: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   auto_recurring: {"}}
[info] >      frequency: 1, {"user":"    frequency: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency: 1,"}}
[info] >      frequency_type: 'months', {"user":"    frequency_type: 'months',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency_type: 'months',"}}
[info] >      transaction_amount: 100, {"user":"    transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     transaction_amount: 100,"}}
[info] >      currency_id: 'ARS', {"user":"    currency_id: 'ARS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency_id: 'ARS',"}}
[info] >      start_date: '2024-07-28T03:11:22.986-04:00', {"user":"    start_date: '2024-07-28T03:11:22.986-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     start_date: '2024-07-28T03:11:22.986-04:00',"}}
[info] >      billing_day: 3, {"user":"    billing_day: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day: 3,"}}
[info] >      billing_day_proportional: false, {"user":"    billing_day_proportional: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day_proportional: false,"}}
[info] >      has_billing_day: true, {"user":"    has_billing_day: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     has_billing_day: true,"}}
[info] >      free_trial: null {"user":"    free_trial: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     free_trial: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    summarized: { {"user":"  summarized: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   summarized: {"}}
[info] >      quotas: null, {"user":"    quotas: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     quotas: null,"}}
[info] >      charged_quantity: null, {"user":"    charged_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_quantity: null,"}}
[info] >      pending_charge_quantity: null, {"user":"    pending_charge_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_quantity: null,"}}
[info] >      charged_amount: null, {"user":"    charged_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_amount: null,"}}
[info] >      pending_charge_amount: null, {"user":"    pending_charge_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_amount: null,"}}
[info] >      semaphore: null, {"user":"    semaphore: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     semaphore: null,"}}
[info] >      last_charged_date: null, {"user":"    last_charged_date: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_date: null,"}}
[info] >      last_charged_amount: null {"user":"    last_charged_amount: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_amount: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    next_payment_date: '2024-07-28T03:11:23.000-04:00', {"user":"  next_payment_date: '2024-07-28T03:11:23.000-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_payment_date: '2024-07-28T03:11:23.000-04:00',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    card_id: '9463826997', {"user":"  card_id: '9463826997',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   card_id: '9463826997',"}}
[info] >    payment_method_id_secondary: null, {"user":"  payment_method_id_secondary: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id_secondary: null,"}}
[info] >    first_invoice_offset: null, {"user":"  first_invoice_offset: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   first_invoice_offset: null,"}}
[info] >    subscription_id: '2ff513bc1da443a093ceb0d042bd2ee2' {"user":"  subscription_id: '2ff513bc1da443a093ceb0d042bd2ee2'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription_id: '2ff513bc1da443a093ceb0d042bd2ee2'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    address: '', {"user":"  address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   address: '',"}}
[info] >    phone: '', {"user":"  phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: '',"}}
[info] >    name: 'san juan', {"user":"  name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'san juan',"}}
[info] >    description: '', {"user":"  description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: '',"}}
[info] >    id: null, {"user":"  id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: null,"}}
[info] >    instagram: '', {"user":"  instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   instagram: '',"}}
[info] >    ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    delete: false {"user":"  delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   delete: false"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75"}}
[info] >                  menus.forEach((menu) => { {"user":"                menus.forEach((menu) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                 menus.forEach((menu) => {"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:11:24.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:11:24.779Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: exited"}}
[debug] [2024-07-28T07:11:24.779Z] [worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-a9345211-8d0c-44e0-bbb7-5cb1a311cc2a]: FINISHED"}}
[debug] [2024-07-28T07:18:49.114Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:18:49.115Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:18:49.115Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:18:50.119Z] Validating nodejs source
[debug] [2024-07-28T07:18:51.302Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:18:51.302Z] Building nodejs source
[debug] [2024-07-28T07:18:51.302Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:18:51.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:18:51.307Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8241

[debug] [2024-07-28T07:18:51.572Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-28T07:18:54.401Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:18:54.401Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:18:54.401Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:18:54.401Z"],"workRunningCount":1}
[debug] [2024-07-28T07:18:54.401Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:18:54.403Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:18:54.403Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:18:54.403Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:18:54.403Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:18:54.404Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: BUSY"}}
[info] >  gonza {"user":"gonza","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m gonza"}}
[debug] [2024-07-28T07:18:54.729Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 325.013791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 325.013791ms"}}
[debug] [2024-07-28T07:18:54.729Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: IDLE"}}
[debug] [2024-07-28T07:18:54.729Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:18:54.729Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:18:54.729Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:18:56.584Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:18:56.584Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: FINISHING"}}
[debug] [2024-07-28T07:18:56.584Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:18:56.584Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: FINISHING"}}
[debug] [2024-07-28T07:18:56.590Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: exited"}}
[debug] [2024-07-28T07:18:56.590Z] [worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-990b3c45-6ced-48b2-ad69-d94404712234]: FINISHED"}}
[debug] [2024-07-28T07:18:56.591Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: exited"}}
[debug] [2024-07-28T07:18:56.591Z] [worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-e3e395e7-f76f-48da-b616-fbca334b1ce8]: FINISHED"}}
[debug] [2024-07-28T07:19:15.280Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:19:15.280Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:19:15.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:19:15.280Z"],"workRunningCount":1}
[debug] [2024-07-28T07:19:15.281Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:19:15.285Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:19:15.285Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:19:15.285Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0"}}
[debug] [2024-07-28T07:19:15.289Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:19:15.289Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85902) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85902) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85902) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:19:15.887Z] [runtime-status] [85902] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:19:15.887Z] [runtime-status] [85902] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:19:15.887Z] [runtime-status] [85902] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:19:15.888Z] [runtime-status] [85902] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:19:16.030Z] [runtime-status] [85902] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:19:16.031Z] [runtime-status] [85902] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:19:16.031Z] [runtime-status] [85902] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:19:16.031Z] [runtime-status] [85902] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:19:16.032Z] [runtime-status] [85902] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:19:16.032Z] [runtime-status] [85902] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:19:16.040Z] [runtime-status] [85902] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:19:16.042Z] [runtime-status] [85902] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:19:16.043Z] [runtime-status] [85902] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_61b3f3ef4af5cc89.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85902] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_61b3f3ef4af5cc89.sock"}}
[debug] [2024-07-28T07:19:16.100Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: IDLE"}}
[debug] [2024-07-28T07:19:16.100Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:19:16.100Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: BUSY"}}
[debug] [2024-07-28T07:19:16.102Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.949916ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.949916ms"}}
[debug] [2024-07-28T07:19:16.102Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: IDLE"}}
[debug] [2024-07-28T07:19:16.102Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:19:16.102Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:19:16.102Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:19:16.104Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:19:16.104Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:19:16.104Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:19:16.104Z"],"workRunningCount":1}
[debug] [2024-07-28T07:19:16.104Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:19:16.105Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:19:16.105Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:19:16.105Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:19:16.105Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   userUid: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    token: '085ec79ac508d9d883d6558c82026eec', {"user":"  token: '085ec79ac508d9d883d6558c82026eec',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   token: '085ec79ac508d9d883d6558c82026eec',"}}
[info] >    issuer_id: '310', {"user":"  issuer_id: '310',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   issuer_id: '310',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    transaction_amount: 100, {"user":"  transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   transaction_amount: 100,"}}
[info] >    installments: 1, {"user":"  installments: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   installments: 1,"}}
[info] >    payer: { {"user":"  payer: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer: {"}}
[info] >      email: 'test_user_977925870@testuser.com', {"user":"    email: 'test_user_977925870@testuser.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     email: 'test_user_977925870@testuser.com',"}}
[info] >      identification: { type: 'DNI', number: '12345678' } {"user":"    identification: { type: 'DNI', number: '12345678' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     identification: { type: 'DNI', number: '12345678' }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  userId 631F3Fjv1eW1A3jjiay0ReQrMMz1 {"user":"userId 631F3Fjv1eW1A3jjiay0ReQrMMz1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m userId 631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: '76f1f2038d324b86a914d5a9261e7ddc', {"user":"  id: '76f1f2038d324b86a914d5a9261e7ddc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: '76f1f2038d324b86a914d5a9261e7ddc',"}}
[info] >    payer_id: 1910957596, {"user":"  payer_id: 1910957596,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_id: 1910957596,"}}
[info] >    payer_email: '', {"user":"  payer_email: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payer_email: '',"}}
[info] >    back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile', {"user":"  back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   back_url: 'https://gomenuback--gomenu-test1.us-central1.hosted.app/profile',"}}
[info] >    collector_id: 1910961146, {"user":"  collector_id: 1910961146,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   collector_id: 1910961146,"}}
[info] >    application_id: 4866563516710223, {"user":"  application_id: 4866563516710223,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   application_id: 4866563516710223,"}}
[info] >    status: 'authorized', {"user":"  status: 'authorized',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   status: 'authorized',"}}
[info] >    reason: 'Premium', {"user":"  reason: 'Premium',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   reason: 'Premium',"}}
[info] >    external_reference: 'YG-1234', {"user":"  external_reference: 'YG-1234',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   external_reference: 'YG-1234',"}}
[info] >    date_created: '2024-07-28T03:19:17.818-04:00', {"user":"  date_created: '2024-07-28T03:19:17.818-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   date_created: '2024-07-28T03:19:17.818-04:00',"}}
[info] >    last_modified: '2024-07-28T03:19:18.118-04:00', {"user":"  last_modified: '2024-07-28T03:19:18.118-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   last_modified: '2024-07-28T03:19:18.118-04:00',"}}
[info] >    init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=76f1f2038d324b86a914d5a9261e7ddc', {"user":"  init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=76f1f2038d324b86a914d5a9261e7ddc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   init_point: 'https://www.mercadopago.com.ar/subscriptions/checkout?preapproval_id=76f1f2038d324b86a914d5a9261e7ddc',"}}
[info] >    preapproval_plan_id: '2c93808490edce740190f279e3290150', {"user":"  preapproval_plan_id: '2c93808490edce740190f279e3290150',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   preapproval_plan_id: '2c93808490edce740190f279e3290150',"}}
[info] >    auto_recurring: { {"user":"  auto_recurring: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   auto_recurring: {"}}
[info] >      frequency: 1, {"user":"    frequency: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency: 1,"}}
[info] >      frequency_type: 'months', {"user":"    frequency_type: 'months',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     frequency_type: 'months',"}}
[info] >      transaction_amount: 100, {"user":"    transaction_amount: 100,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     transaction_amount: 100,"}}
[info] >      currency_id: 'ARS', {"user":"    currency_id: 'ARS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     currency_id: 'ARS',"}}
[info] >      start_date: '2024-07-28T03:19:17.839-04:00', {"user":"    start_date: '2024-07-28T03:19:17.839-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     start_date: '2024-07-28T03:19:17.839-04:00',"}}
[info] >      billing_day: 3, {"user":"    billing_day: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day: 3,"}}
[info] >      billing_day_proportional: false, {"user":"    billing_day_proportional: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     billing_day_proportional: false,"}}
[info] >      has_billing_day: true, {"user":"    has_billing_day: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     has_billing_day: true,"}}
[info] >      free_trial: null {"user":"    free_trial: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     free_trial: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    summarized: { {"user":"  summarized: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   summarized: {"}}
[info] >      quotas: null, {"user":"    quotas: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     quotas: null,"}}
[info] >      charged_quantity: null, {"user":"    charged_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_quantity: null,"}}
[info] >      pending_charge_quantity: null, {"user":"    pending_charge_quantity: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_quantity: null,"}}
[info] >      charged_amount: null, {"user":"    charged_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     charged_amount: null,"}}
[info] >      pending_charge_amount: null, {"user":"    pending_charge_amount: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     pending_charge_amount: null,"}}
[info] >      semaphore: null, {"user":"    semaphore: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     semaphore: null,"}}
[info] >      last_charged_date: null, {"user":"    last_charged_date: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_date: null,"}}
[info] >      last_charged_amount: null {"user":"    last_charged_amount: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     last_charged_amount: null"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    next_payment_date: '2024-07-28T03:19:18.000-04:00', {"user":"  next_payment_date: '2024-07-28T03:19:18.000-04:00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   next_payment_date: '2024-07-28T03:19:18.000-04:00',"}}
[info] >    payment_method_id: 'visa', {"user":"  payment_method_id: 'visa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id: 'visa',"}}
[info] >    card_id: '9463826997', {"user":"  card_id: '9463826997',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   card_id: '9463826997',"}}
[info] >    payment_method_id_secondary: null, {"user":"  payment_method_id_secondary: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_id_secondary: null,"}}
[info] >    first_invoice_offset: null, {"user":"  first_invoice_offset: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   first_invoice_offset: null,"}}
[info] >    subscription_id: '76f1f2038d324b86a914d5a9261e7ddc' {"user":"  subscription_id: '76f1f2038d324b86a914d5a9261e7ddc'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   subscription_id: '76f1f2038d324b86a914d5a9261e7ddc'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    address: '', {"user":"  address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   address: '',"}}
[info] >    phone: '', {"user":"  phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   phone: '',"}}
[info] >    name: 'san juan', {"user":"  name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   name: 'san juan',"}}
[info] >    description: '', {"user":"  description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: '',"}}
[info] >    id: null, {"user":"  id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: null,"}}
[info] >    instagram: '', {"user":"  instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   instagram: '',"}}
[info] >    ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"  ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >    delete: false {"user":"  delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   delete: false"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78"}}
[info] >                  menus.forEach((menu) => { {"user":"                menus.forEach((menu) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                 menus.forEach((menu) => {"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:19:19.290Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:19:19.290Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: exited"}}
[debug] [2024-07-28T07:19:19.290Z] [worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-5a5969c9-5bbd-4c10-8c7c-49ad985e9429]: FINISHED"}}
[debug] [2024-07-28T07:20:54.577Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:20:54.911Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:20:54.911Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:20:55.913Z] Validating nodejs source
[debug] [2024-07-28T07:20:56.413Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:20:56.413Z] Building nodejs source
[debug] [2024-07-28T07:20:56.413Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:20:56.414Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:20:56.415Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8306

[debug] [2024-07-28T07:20:56.674Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:21:03.691Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.691Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:03.691Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.691Z"],"workRunningCount":1}
[debug] [2024-07-28T07:21:03.692Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:21:03.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:21:03.694Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:21:03.694Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:21:03.695Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:21:03.695Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[debug] [2024-07-28T07:21:03.697Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.697Z"],"queueLength":1,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.691Z"],"workRunningCount":1}
[debug] [2024-07-28T07:21:03.697Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.691Z","/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.697Z"],"workRunningCount":2}
[debug] [2024-07-28T07:21:03.697Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:21:03.699Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:21:03.699Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:21:03.702Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:21:03.703Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=2"}}
[info] >  (node:85959) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85959) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85959) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[info] >  (node:85958) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85958) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85958) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:21:04.328Z] [runtime-status] [85958] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:04.328Z] [runtime-status] [85959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:04.328Z] [runtime-status] [85958] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.328Z] [runtime-status] [85958] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:21:04.328Z] [runtime-status] [85959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.329Z] [runtime-status] [85958] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.329Z] [runtime-status] [85959] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:21:04.329Z] [runtime-status] [85959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.492Z] [runtime-status] [85958] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:21:04.492Z] [runtime-status] [85959] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:21:04.492Z] [runtime-status] [85959] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:21:04.492Z] [runtime-status] [85958] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:21:04.492Z] [runtime-status] [85958] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.493Z] [runtime-status] [85959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.493Z] [runtime-status] [85958] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:04.493Z] [runtime-status] [85959] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:04.494Z] [runtime-status] [85958] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.494Z] [runtime-status] [85959] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:04.494Z] [runtime-status] [85959] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:21:04.494Z] [runtime-status] [85958] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:21:04.502Z] [runtime-status] [85959] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:21:04.502Z] [runtime-status] [85958] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:21:04.506Z] [runtime-status] [85958] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:21:04.506Z] [runtime-status] [85958] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_6e7d5990cbb4b957.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85958] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_6e7d5990cbb4b957.sock"}}
[debug] [2024-07-28T07:21:04.507Z] [runtime-status] [85959] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:21:04.507Z] [runtime-status] [85959] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_2e056a71af214642.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [85959] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_2e056a71af214642.sock"}}
[debug] [2024-07-28T07:21:04.520Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: IDLE"}}
[debug] [2024-07-28T07:21:04.521Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:21:04.521Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: BUSY"}}
[debug] [2024-07-28T07:21:04.522Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: IDLE"}}
[debug] [2024-07-28T07:21:04.523Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:21:04.523Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:21:05.214Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 693.166875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 693.166875ms"}}
[debug] [2024-07-28T07:21:05.215Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: IDLE"}}
[debug] [2024-07-28T07:21:05.215Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:21:05.215Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:21:05.215Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:21:03.691Z"],"workRunningCount":1}
[debug] [2024-07-28T07:21:05.215Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 692.076583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 692.076583ms"}}
[debug] [2024-07-28T07:21:05.215Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: IDLE"}}
[debug] [2024-07-28T07:21:05.215Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:21:05.215Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:21:05.215Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:26.400Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:21:26.399Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:26.401Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:21:26.399Z"],"workRunningCount":1}
[debug] [2024-07-28T07:21:26.401Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:21:26.408Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:21:26.408Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:21:26.414Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:21:26.414Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:85964) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:85964) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:85964) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:21:26.944Z] [runtime-status] [85964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:26.945Z] [runtime-status] [85964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:26.945Z] [runtime-status] [85964] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:21:26.945Z] [runtime-status] [85964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:27.081Z] [runtime-status] [85964] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:21:27.081Z] [runtime-status] [85964] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:21:27.081Z] [runtime-status] [85964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:27.081Z] [runtime-status] [85964] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:21:27.082Z] [runtime-status] [85964] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:21:27.083Z] [runtime-status] [85964] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:21:27.091Z] [runtime-status] [85964] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:21:27.094Z] [runtime-status] [85964] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:21:27.094Z] [runtime-status] [85964] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_0ff65c3593db00cf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [85964] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_0ff65c3593db00cf.sock"}}
[debug] [2024-07-28T07:21:27.129Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: IDLE"}}
[debug] [2024-07-28T07:21:27.129Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:21:27.129Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: BUSY"}}
[debug] [2024-07-28T07:21:27.131Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.68ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.68ms"}}
[debug] [2024-07-28T07:21:27.131Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: IDLE"}}
[debug] [2024-07-28T07:21:27.131Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:21:27.131Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:21:27.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:27.133Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:21:27.133Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:27.133Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:21:27.133Z"],"workRunningCount":1}
[debug] [2024-07-28T07:21:27.133Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:21:27.133Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:21:27.133Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:21:27.133Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:21:27.133Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Restaurants: [ {"user":"Restaurants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Restaurants: ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: '5dhzeXIte7UYRwzbXHe1', {"user":"    id: '5dhzeXIte7UYRwzbXHe1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: '5dhzeXIte7UYRwzbXHe1',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'san juan', {"user":"      name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'san juan',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: '8xTlRHRWPn14ii8YtP5P', {"user":"    id: '8xTlRHRWPn14ii8YtP5P',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: '8xTlRHRWPn14ii8YtP5P',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'aloja', {"user":"      name: 'aloja',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'aloja',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'PIvQvq1bkqoQlnqMuxE6', {"user":"    id: 'PIvQvq1bkqoQlnqMuxE6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'PIvQvq1bkqoQlnqMuxE6',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'saigon', {"user":"      name: 'saigon',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'saigon',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'ib7hSUyTZGTzQuFBHJOx', {"user":"    id: 'ib7hSUyTZGTzQuFBHJOx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'ib7hSUyTZGTzQuFBHJOx',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'resto1', {"user":"      name: 'resto1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'resto1',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: true {"user":"      delete: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: true"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75"}}
[info] >                  menus.forEach((menu) => { {"user":"                menus.forEach((menu) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                 menus.forEach((menu) => {"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:75:23"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:21:30.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:21:30.302Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: exited"}}
[debug] [2024-07-28T07:21:30.302Z] [worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-cbc390c9-c346-49aa-921b-222be2f3bfe4]: FINISHED"}}
[debug] [2024-07-28T07:24:07.449Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:24:07.564Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:24:07.564Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:24:08.566Z] Validating nodejs source
[debug] [2024-07-28T07:24:09.598Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:24:09.599Z] Building nodejs source
[debug] [2024-07-28T07:24:09.599Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:24:09.600Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:24:09.601Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8330

[debug] [2024-07-28T07:24:09.843Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:24:14.855Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:24:14.855Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: FINISHING"}}
[debug] [2024-07-28T07:24:14.855Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:24:14.855Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: FINISHING"}}
[debug] [2024-07-28T07:24:14.871Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: exited"}}
[debug] [2024-07-28T07:24:14.871Z] [worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-3280719a-8970-480e-a89d-712bed6cc287]: FINISHED"}}
[debug] [2024-07-28T07:24:14.872Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: exited"}}
[debug] [2024-07-28T07:24:14.872Z] [worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-bc39a3a6-75d3-476c-b424-06d20d10b948]: FINISHED"}}
[debug] [2024-07-28T07:24:26.071Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:24:26.071Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:26.071Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:24:26.071Z"],"workRunningCount":1}
[debug] [2024-07-28T07:24:26.071Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:24:26.074Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:24:26.074Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:24:26.074Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 2 --> 0"}}
[debug] [2024-07-28T07:24:26.074Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:24:26.075Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:24:26.076Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[info] >  (node:86028) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:86028) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:86028) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:24:26.714Z] [runtime-status] [86028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:24:26.715Z] [runtime-status] [86028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:26.715Z] [runtime-status] [86028] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:24:26.715Z] [runtime-status] [86028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:26.862Z] [runtime-status] [86028] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:24:26.862Z] [runtime-status] [86028] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:24:26.862Z] [runtime-status] [86028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:26.862Z] [runtime-status] [86028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:24:26.863Z] [runtime-status] [86028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:26.864Z] [runtime-status] [86028] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:24:26.872Z] [runtime-status] [86028] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:24:26.874Z] [runtime-status] [86028] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:24:26.875Z] [runtime-status] [86028] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_31fff7574cb1ec99.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86028] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_31fff7574cb1ec99.sock"}}
[debug] [2024-07-28T07:24:26.890Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: IDLE"}}
[debug] [2024-07-28T07:24:26.890Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:24:26.890Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:24:27.539Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 649.655791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 649.655791ms"}}
[debug] [2024-07-28T07:24:27.540Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: IDLE"}}
[debug] [2024-07-28T07:24:27.540Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:24:27.540Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:24:27.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:46.977Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:24:46.977Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:46.978Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:24:46.977Z"],"workRunningCount":1}
[debug] [2024-07-28T07:24:46.978Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:24:46.984Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:24:46.984Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:24:46.989Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:24:46.989Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:86042) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:86042) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:86042) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:24:47.519Z] [runtime-status] [86042] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:24:47.520Z] [runtime-status] [86042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:47.520Z] [runtime-status] [86042] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:24:47.520Z] [runtime-status] [86042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:47.677Z] [runtime-status] [86042] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:24:47.678Z] [runtime-status] [86042] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:24:47.678Z] [runtime-status] [86042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:47.678Z] [runtime-status] [86042] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:24:47.679Z] [runtime-status] [86042] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:24:47.679Z] [runtime-status] [86042] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:24:47.687Z] [runtime-status] [86042] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:24:47.690Z] [runtime-status] [86042] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:24:47.690Z] [runtime-status] [86042] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_a3f2539ce5218acd.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86042] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_a3f2539ce5218acd.sock"}}
[debug] [2024-07-28T07:24:47.701Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: IDLE"}}
[debug] [2024-07-28T07:24:47.701Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:24:47.701Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: BUSY"}}
[debug] [2024-07-28T07:24:47.702Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.379042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.379042ms"}}
[debug] [2024-07-28T07:24:47.702Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: IDLE"}}
[debug] [2024-07-28T07:24:47.702Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:24:47.702Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:24:47.702Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:47.706Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:24:47.706Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:47.706Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:24:47.706Z"],"workRunningCount":1}
[debug] [2024-07-28T07:24:47.706Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:24:47.706Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:24:47.706Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:24:47.706Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:24:47.706Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Document added with ID: mqYqA537n9VSizvYLJ98 {"user":"Document added with ID: mqYqA537n9VSizvYLJ98","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Document added with ID: mqYqA537n9VSizvYLJ98"}}
[info] >  savePayment {"user":"savePayment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m savePayment"}}
[info] >  Restaurants: [ {"user":"Restaurants: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Restaurants: ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: '5dhzeXIte7UYRwzbXHe1', {"user":"    id: '5dhzeXIte7UYRwzbXHe1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: '5dhzeXIte7UYRwzbXHe1',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'san juan', {"user":"      name: 'san juan',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'san juan',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: '8xTlRHRWPn14ii8YtP5P', {"user":"    id: '8xTlRHRWPn14ii8YtP5P',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: '8xTlRHRWPn14ii8YtP5P',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'aloja', {"user":"      name: 'aloja',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'aloja',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'PIvQvq1bkqoQlnqMuxE6', {"user":"    id: 'PIvQvq1bkqoQlnqMuxE6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'PIvQvq1bkqoQlnqMuxE6',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'saigon', {"user":"      name: 'saigon',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'saigon',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: false {"user":"      delete: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: false"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'ib7hSUyTZGTzQuFBHJOx', {"user":"    id: 'ib7hSUyTZGTzQuFBHJOx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'ib7hSUyTZGTzQuFBHJOx',"}}
[info] >      data: { {"user":"    data: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     data: {"}}
[info] >        address: '', {"user":"      address: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       address: '',"}}
[info] >        phone: '', {"user":"      phone: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       phone: '',"}}
[info] >        name: 'resto1', {"user":"      name: 'resto1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       name: 'resto1',"}}
[info] >        description: '', {"user":"      description: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       description: '',"}}
[info] >        id: null, {"user":"      id: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       id: null,"}}
[info] >        instagram: '', {"user":"      instagram: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       instagram: '',"}}
[info] >        ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1', {"user":"      ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       ownerId: '631F3Fjv1eW1A3jjiay0ReQrMMz1',"}}
[info] >        delete: true {"user":"      delete: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m       delete: true"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78"}}
[info] >                  menus.forEach((menu) => { {"user":"                menus.forEach((menu) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                 menus.forEach((menu) => {"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:24:51.117Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:24:51.118Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: exited"}}
[debug] [2024-07-28T07:24:51.118Z] [worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-e9955ebb-7092-4744-8c3f-4b89ba5ac86a]: FINISHED"}}
[debug] [2024-07-28T07:25:28.043Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:25:28.137Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:25:28.138Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:25:29.139Z] Validating nodejs source
[debug] [2024-07-28T07:25:29.511Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:25:29.511Z] Building nodejs source
[debug] [2024-07-28T07:25:29.511Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:25:29.512Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:25:29.513Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8015

[debug] [2024-07-28T07:25:29.753Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[debug] [2024-07-28T07:25:34.761Z] [worker-pool] Shutting down IDLE worker (us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-suscriptions)"}}
[debug] [2024-07-28T07:25:34.761Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: FINISHING"}}
[debug] [2024-07-28T07:25:34.765Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: exited"}}
[debug] [2024-07-28T07:25:34.765Z] [worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-cd11c9bc-d265-4710-a919-1e88db576c96]: FINISHED"}}
[debug] [2024-07-28T07:25:36.945Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/src/index.ts changed, reloading triggers"}}
[debug] [2024-07-28T07:25:37.132Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js.map changed, reloading triggers"}}
[debug] [2024-07-28T07:25:37.132Z] File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js changed, reloading triggers"}}
[debug] [2024-07-28T07:25:38.134Z] Validating nodejs source
[debug] [2024-07-28T07:25:38.499Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "jest": "^29.7.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "ts-jest": "^29.2.3",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-28T07:25:38.499Z] Building nodejs source
[debug] [2024-07-28T07:25:38.499Z] Failed to find version of module node: reached end of search path /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[debug] [2024-07-28T07:25:38.500Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-28T07:25:38.501Z] Found firebase-functions binary at '/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8038

[debug] [2024-07-28T07:25:38.707Z] Got response from /__/functions.yaml {"endpoints":{"suscriptions":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"suscriptions"},"pay":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"pay"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-28T07:25:43.448Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:25:43.448Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:25:43.449Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/suscriptions-2024-07-28T07:25:43.448Z"],"workRunningCount":1}
[debug] [2024-07-28T07:25:43.449Z] Accepted request GET /gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 --> us-central1-suscriptions
[debug] [2024-07-28T07:25:43.453Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:25:43.453Z] [functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/suscriptions?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1, mapping to path=/?userId=631F3Fjv1eW1A3jjiay0ReQrMMz1"}}
[debug] [2024-07-28T07:25:43.453Z] [worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-suscriptions: 1 --> 0"}}
[debug] [2024-07-28T07:25:43.453Z] [worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-pay: 1 --> 0"}}
[debug] [2024-07-28T07:25:43.457Z] [worker-pool] addWorker(us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-suscriptions)"}}
[debug] [2024-07-28T07:25:43.457Z] [worker-pool] Adding worker with key us-central1-suscriptions, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-suscriptions, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: suscriptions, pay. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: suscriptions, pay."}}
[info] >  (node:86129) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:86129) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:86129) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:25:44.125Z] [runtime-status] [86129] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:25:44.129Z] [runtime-status] [86129] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:25:44.129Z] [runtime-status] [86129] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:25:44.130Z] [runtime-status] [86129] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:25:44.284Z] [runtime-status] [86129] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:25:44.285Z] [runtime-status] [86129] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:25:44.285Z] [runtime-status] [86129] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:25:44.285Z] [runtime-status] [86129] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:25:44.286Z] [runtime-status] [86129] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:25:44.286Z] [runtime-status] [86129] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:25:44.294Z] [runtime-status] [86129] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:25:44.297Z] [runtime-status] [86129] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:25:44.297Z] [runtime-status] [86129] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_e0d8cb12ec490878.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[runtime-status] [86129] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_e0d8cb12ec490878.sock"}}
[debug] [2024-07-28T07:25:44.372Z] [worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: IDLE"}}
[debug] [2024-07-28T07:25:44.373Z] [worker-pool] submitRequest(triggerId=us-central1-suscriptions) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-suscriptions)"}}
[info] i  functions: Beginning execution of "us-central1-suscriptions" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Beginning execution of \"us-central1-suscriptions\""}}
[debug] [2024-07-28T07:25:44.373Z] [worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-07-28T07:25:45.031Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-suscriptions" in 657.45675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finished \"us-central1-suscriptions\" in 657.45675ms"}}
[debug] [2024-07-28T07:25:45.031Z] [worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"[worker-us-central1-suscriptions-1a3b5088-e781-412a-984f-7f826418d9e9]: IDLE"}}
[debug] [2024-07-28T07:25:45.032Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:25:45.032Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-suscriptions"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:25:45.032Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:26:06.321Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:26:06.321Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:26:06.322Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:26:06.321Z"],"workRunningCount":1}
[debug] [2024-07-28T07:26:06.322Z] Accepted request OPTIONS /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:26:06.326Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:26:06.327Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:26:06.333Z] [worker-pool] addWorker(us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-pay)"}}
[debug] [2024-07-28T07:26:06.334Z] [worker-pool] Adding worker with key us-central1-pay, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-pay, total=1"}}
[info] >  (node:86151) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:86151) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:86151) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2024-07-28T07:26:06.866Z] [runtime-status] [86151] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:26:06.866Z] [runtime-status] [86151] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:26:06.866Z] [runtime-status] [86151] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-28T07:26:06.867Z] [runtime-status] [86151] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:26:07.006Z] [runtime-status] [86151] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-28T07:26:07.006Z] [runtime-status] [86151] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-07-28T07:26:07.006Z] [runtime-status] [86151] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:26:07.006Z] [runtime-status] [86151] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-07-28T07:26:07.007Z] [runtime-status] [86151] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-07-28T07:26:07.007Z] [runtime-status] [86151] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-07-28T07:26:07.017Z] [runtime-status] [86151] initializeApp(DEFAULT) {"storageBucket":"gomenu-test1.appspot.com","databaseURL":"https://gomenu-test1-default-rtdb.firebaseio.com","projectId":"gomenu-test1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] initializeApp(DEFAULT) {\"storageBucket\":\"gomenu-test1.appspot.com\",\"databaseURL\":\"https://gomenu-test1-default-rtdb.firebaseio.com\",\"projectId\":\"gomenu-test1\"}"}}
[debug] [2024-07-28T07:26:07.020Z] [runtime-status] [86151] Functions runtime initialized. {"cwd":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Functions runtime initialized. {\"cwd\":\"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2024-07-28T07:26:07.020Z] [runtime-status] [86151] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_66ad311b60d529f3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[runtime-status] [86151] Listening to port: /var/folders/yc/gh_sc44d4hb_rmq6p8vwd71m0000gn/T/fire_emu_66ad311b60d529f3.sock"}}
[debug] [2024-07-28T07:26:07.048Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: IDLE"}}
[debug] [2024-07-28T07:26:07.048Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:26:07.048Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: BUSY"}}
[debug] [2024-07-28T07:26:07.050Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-pay" in 1.677291ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finished \"us-central1-pay\" in 1.677291ms"}}
[debug] [2024-07-28T07:26:07.050Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: IDLE"}}
[debug] [2024-07-28T07:26:07.050Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-28T07:26:07.050Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-28T07:26:07.050Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:26:07.052Z] [work-queue] {"queuedWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:26:07.052Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:26:07.052Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/gomenu-test1/us-central1/pay-2024-07-28T07:26:07.052Z"],"workRunningCount":1}
[debug] [2024-07-28T07:26:07.052Z] Accepted request POST /gomenu-test1/us-central1/pay --> us-central1-pay
[debug] [2024-07-28T07:26:07.052Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-28T07:26:07.052Z] [functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/gomenu-test1/us-central1/pay, mapping to path=/"}}
[debug] [2024-07-28T07:26:07.052Z] [worker-pool] submitRequest(triggerId=us-central1-pay) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-pay)"}}
[info] i  functions: Beginning execution of "us-central1-pay" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Beginning execution of \"us-central1-pay\""}}
[debug] [2024-07-28T07:26:07.052Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: BUSY"}}
[warn] ⚠  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[info] >  Document added with ID: agCCszvZ0D5pTP0rlpMF {"user":"Document added with ID: agCCszvZ0D5pTP0rlpMF","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Document added with ID: agCCszvZ0D5pTP0rlpMF"}}
[info] >  savePayment {"user":"savePayment","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m savePayment"}}
[info] >  /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78 {"user":"/Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78"}}
[info] >                  menus.forEach((menu) => { {"user":"                menus.forEach((menu) => {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                 menus.forEach((menu) => {"}}
[info] >                        ^ {"user":"                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'forEach') {"user":"TypeError: Cannot read properties of undefined (reading 'forEach')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'forEach')"}}
[info] >      at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23 {"user":"    at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/gonzalomuscolo/Development/nextjs-13-firebase-starter/functions/lib/index.js:78:23"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v22.5.1 {"user":"Node.js v22.5.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v22.5.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-28T07:26:10.196Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-28T07:26:10.197Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: exited"}}
[debug] [2024-07-28T07:26:10.197Z] [worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-pay"},"extension":{},"message":"[worker-us-central1-pay-b2cc41d1-8e0f-4991-bb6a-392786f1be73]: FINISHED"}}
